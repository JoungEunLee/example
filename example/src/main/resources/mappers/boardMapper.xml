<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.amy.mapper.boardMapper">
 	<!-- 
        mybatis-config.xml의 typeAlias에 등록해두지 않았다면 
        
        <select id="selectMember" resultType="com.amy.dto.MemberVO" >
            SELECT ID, PW ,NAME FROM TEST
        </select>
        
        이렇게 해야 한다.
    -->
    
    <select id="selectBoard" resultType="com.amy.dto.BoardVO">
        SELECT bno, 
            title, 
            content, 
            writer,
            date_format(regdate, '%Y-%m-%d %H:%i:%s') regdate, 
            viewcnt
        FROM tbl_board
    </select>
    
    <insert id="insert" >
    	 INSERT INTO tbl_board (
          bno, 
          title, 
          content, 
          writer
        ) VALUES (
          (SELECT IFNULL(MAX(bno)+1, 1)FROM tbl_board a),
         #{title},
  		 #{content},
  		 #{writer}
        )
    </insert>
    
</mapper>